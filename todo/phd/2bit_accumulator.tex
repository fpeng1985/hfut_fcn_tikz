\documentclass[preview,convert={convertexe={magick},outext=.ps}]{standalone}
\usepackage[dvipdfm]{geometry}
%graphics
\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric, shapes.multipart, arrows, calc, through}
\usepackage[caption=false,font=footnotesize]{subfig}

\colorlet{dot-color}{black!80}
\tikzset{
    pics/cell/.style = {
        code = {%
        \coordinate (-center) at (0,0);
        
        \fill +(-0.495,-0.495) coordinate(-sw) 
           -- +(-0.495, 0.495) coordinate(-nw)
           -- +( 0.495, 0.495) coordinate(-ne)
           -- +( 0.495,-0.495) coordinate(-se)
           -- cycle;
        \coordinate (-swo) at ($ (-center)!0.5!(-sw) $);
        \coordinate (-nwo) at ($ (-center)!0.5!(-nw) $);
        \coordinate (-neo) at ($ (-center)!0.5!(-ne) $);
        \coordinate (-seo) at ($ (-center)!0.5!(-se) $);
        
        \coordinate (-south) at ($ (-sw)!.5!(-se) $);
        \coordinate (-north) at ($ (-nw)!.5!(-ne) $);
        \coordinate (-west)  at ($ (-sw)!.5!(-nw) $);
        \coordinate (-east)  at ($ (-se)!.5!(-ne) $);
        
        \fill[white] (-swo) let \p1=($ (-center)!.5!(-swo) $) in circle ({veclen(\x1,\y1)});
        \fill[white] (-nwo) let \p1=($ (-center)!.5!(-nwo) $) in circle ({veclen(\x1,\y1)});
        \fill[white] (-neo) let \p1=($ (-center)!.5!(-neo) $) in circle ({veclen(\x1,\y1)});
        \fill[white] (-seo) let \p1=($ (-center)!.5!(-seo) $) in circle ({veclen(\x1,\y1)});
        
        \ifnum#1=1\relax
            \fill[dot-color] (-swo) let \p1=($ (-center)!.32!(-swo) $) in circle ({veclen(\x1,\y1)});
            \fill[dot-color] (-neo) let \p1=($ (-center)!.32!(-neo) $) in circle ({veclen(\x1,\y1)});
        \else
            \ifnum#1=-1\relax
                \fill[dot-color] (-nwo) let \p1=($ (-center)!.32!(-nwo) $) in circle ({veclen(\x1,\y1)});
                \fill[dot-color] (-seo) let \p1=($ (-center)!.32!(-seo) $) in circle ({veclen(\x1,\y1)});
            \else
                \fill[dot-color] (-swo) let \p1=($ (-center)!.22!(-swo) $) in circle ({veclen(\x1,\y1)});
                \fill[dot-color] (-nwo) let \p1=($ (-center)!.22!(-nwo) $) in circle ({veclen(\x1,\y1)});
                \fill[dot-color] (-neo) let \p1=($ (-center)!.22!(-neo) $) in circle ({veclen(\x1,\y1)});
                \fill[dot-color] (-seo) let \p1=($ (-center)!.22!(-seo) $) in circle ({veclen(\x1,\y1)});
            \fi
        \fi
        }
    },
    pics/cell/.default={0}
}
% \definecolor{clock0}{HTML}{86E291}
% \definecolor{clock1}{HTML}{FFA5FA}
% \definecolor{clock2}{HTML}{00C8BC}
% \definecolor{clock3}{HTML}{F2F2F2}
% \definecolor{input}{HTML}{008DC8}
% \definecolor{output}{HTML}{E28686}
% \definecolor{fixed}{HTML}{000000}

\definecolor{clock0}{RGB}{89,89,91}
\definecolor{clock1}{RGB}{129,130,132}
\definecolor{clock2}{RGB}{210,210,212}
\definecolor{clock3}{RGB}{168,169,173}
\definecolor{input}{RGB}{230,230,230}
\definecolor{output}{RGB}{40,40,40}
\definecolor{fixed}{HTML}{000000}

\begin{document}


\begin{tikzpicture}[scale=0.3,transform shape]
\pic[input](sel) at (0,20){cell=-1};
\node[above,scale=3] at (sel-north){Sel};
\pic[clock0]at(0,19){cell};
\pic[clock0]at(0,18){cell};
\pic[clock0]at(0,17){cell};
\pic[clock0]at(0,16){cell};
\pic[clock0]at(0,15){cell};
\pic[clock0]at(0,14){cell};

\pic[clock0]at(1,19){cell};
\pic[clock1]at(1,14){cell};
\pic[clock0]at(2,19){cell};
\pic[clock2]at(2,14){cell=-1};
\pic[clock0]at(3,19){cell};
\pic[clock3]at(3,14){cell=-1};

\pic[clock0]at(4,19){cell};
\pic[clock3]at(4,17){cell=-1};
\pic[clock3]at(4,16){cell=-1};
\pic[clock3]at(4,15){cell=-1};
\pic[clock3]at(4,14){cell=-1};
\pic[clock3]at(4,13){cell=-1};
\pic[clock2]at(4,12){cell=-1};
\pic[clock2]at(4,11){cell=-1};
\pic[clock2]at(4,10){cell=-1};
\pic[clock2]at(4,9){cell=-1};
\pic[clock2]at(4,8){cell};
\pic[clock2]at(4,7){cell};
\pic[clock2]at(4,6){cell};
\pic[clock2]at(4,5){cell};
\pic[clock2]at(4,4){cell};
\pic[clock2]at(4,3){cell};
\pic[clock2]at(4,2){cell};
\pic[clock2]at(4,1){cell};
\pic(s0)[output]at(4,0){cell};
\node[left,scale=3]at(s0-west){S0};

\pic[clock1]at(5,19){cell};
\pic[clock3]at(5,17){cell=-1};
\pic[clock3]at(5,14){cell=1};
\pic[clock2]at(5,9){cell=-1};

\pic[clock1]at(6,19){cell};
\pic[clock3]at(6,17){cell=-1};
\pic[clock2] at(6,14){cell=1};
\pic[clock2] at(6,9){cell=-1};

\pic[clock1]at(7,19){cell};
\pic[clock3]at(7,17){cell=-1};
\pic(f1)[fixed] at(7,14){cell=1};
\node[above,scale=2] at (f1-north) {-1.00};
\pic[clock1]at(7,11){cell};
\pic[clock2] at(7,10){cell=-1};
\pic[clock2] at(7,9){cell=-1};
\pic[clock2] at(7,8){cell=-1};
\pic[clock1] at(7,7){cell};
\pic[clock1] at(7,6){cell};
\pic[clock1] at(7,5){cell};
\pic[clock1] at(7,4){cell};
\pic[clock1] at(7,3){cell};
\pic[clock1] at(7,2){cell};

\pic[clock1]at(8,19){cell};
\pic[clock3]at(8,17){cell=-1};
\pic[clock1]at(8,11){cell};
\pic[clock2]at(8,9){cell=-1};
\pic[clock1]at(8,2){cell};

\pic[clock2]at(9,19){cell};
\pic[clock3]at(9,17){cell=-1};
\pic[clock1]at(9,11){cell};
\pic[clock1]at(9,9){cell};
\pic[clock1]at(9,8){cell};
\pic[clock1]at(9,7){cell};
\pic[clock0]at(9,6){cell};
\pic[clock1]at(9,2){cell};

\pic[clock2]at(10,19){cell=-1};
\pic[clock3]at(10,17){cell=-1};
\pic[clock1]at(10,11){cell};
\pic[clock0]at(10,6){cell};
\pic[clock1]at(10,2){cell};

\pic[clock2]at(11,19){cell=-1};
\pic[clock3]at(11,17){cell=-1};
\pic[clock1]at(11,11){cell};
\pic[clock0]at(11,7){cell};
\pic[clock0]at(11,6){cell};
\pic[clock1]at(11,2){cell};

\pic[clock2]at(12,19){cell=-1};
\pic[clock3]at(12,17){cell=-1};
\pic[clock0]at(12,16){cell};
\pic[clock0]at(12,15){cell};
\pic[clock0]at(12,14){cell};
\pic[clock0]at(12,13){cell};
\pic[clock1]at(12,12){cell};
\pic[clock1]at(12,11){cell};
\pic[clock1]at(12,10){cell};
\pic[clock0]at(12,9){cell};
\pic[clock0]at(12,8){cell};
\pic[clock0]at(12,6){cell};
\pic(f2)[fixed]at(12,5){cell=1};
\node[below,scale=2] at(f2-south){-1.00};
\pic[clock1]at(12,2){cell};

\pic[clock3]at(13,19){cell=-1};
\pic[clock0]at(13,14){cell};
\pic[clock1]at(13,11){cell};
\pic[clock0]at(13,7){cell};
\pic[clock0]at(13,6){cell};
\pic[clock1]at(13,2){cell};

\pic[clock3]at(14,19){cell=-1};
\pic[clock0]at(14,14){cell};
\pic[clock0]at(14,11){cell};
\pic[clock0]at(14,6){cell};
\pic[clock1]at(14,2){cell};

\pic[clock3]at(15,19){cell=-1};
\pic[clock0]at(15,14){cell};
\pic[clock0]at(15,11){cell};
\pic[clock1]at(15,6){cell};
\pic[clock1]at(15,3){cell};
\pic[clock1]at(15,1){cell};

\pic(in0)[input] at(16,23){cell=-1};
\node[left,scale=3] at(in0-west){In0};
\node[rectangle,fill=clock0,minimum size=0.98cm] at (16,22){};
\node[rectangle,fill=clock0,minimum size=0.98cm] at (16,21){};
\node[rectangle,fill=clock1,minimum size=0.98cm] at (16,20){};
\node[rectangle,fill=clock1,minimum size=0.98cm] at (16,19){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (16,18){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (16,17){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (16,16){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (16,15){};
\node[rectangle,fill=clock0,minimum size=0.98cm] at (16,14){};
\node[rectangle,fill=clock0,minimum size=0.98cm] at (16,13){};
\node[rectangle,fill=clock0,minimum size=0.98cm] at (16,12){};
\pic[clock0]at(16,11){cell};
\pic[clock0]at(16,10){cell};
\pic[clock0]at(16,9){cell};
\pic[clock0]at(16,8){cell};
\pic[clock1]at(16,7){cell};
\pic[clock1]at(16,6){cell};
\pic[clock1]at(16,5){cell};
\pic[clock1]at(16,4){cell};
\pic[clock1]at(16,3){cell};
\pic[clock1]at(16,2){cell};
\pic[clock1]at(16,1){cell};

\pic[clock0]at(17,19){cell=-1};
\pic[clock0]at(17,14){cell};
\pic[clock1]at(17,6){cell};
\pic[clock1]at(17,3){cell};

\pic[clock0]at(18,19){cell=-1};
\pic[clock0]at(18,14){cell};
\pic[clock0]at(18,13){cell};
\pic[clock0]at(18,12){cell};
\pic[clock0]at(18,11){cell};
\pic[clock0]at(18,10){cell};
\pic[clock0]at(18,9){cell};
\pic[clock0]at(18,8){cell};
\pic[clock0]at(18,7){cell};
\pic[clock0]at(18,6){cell};
\pic(c0)[output]at(18,3){cell};
\node[above,scale=3]at(c0-north){C0};

\pic[clock0]at(19,19){cell=-1};
\pic[clock2]at(19,3){cell=-1};

\pic[clock0]at(20,19){cell};
\pic[clock2]at(20,3){cell=-1};

\pic[clock1]at(21,19){cell};
\pic[clock1]at(21,18){cell};
\pic[clock1]at(21,17){cell};
\pic[clock1]at(21,16){cell};
\pic[clock1]at(21,15){cell};
\pic[clock1]at(21,14){cell};
\pic[clock1]at(21,13){cell};
\pic[clock1]at(21,12){cell};
\pic[clock1]at(21,11){cell};
\pic[clock2]at(21,10){cell=-1};
\pic[clock2]at(21,9){cell=-1};
\pic[clock2]at(21,8){cell=-1};
\pic[clock3]at(21,7){cell=-1};
\pic[clock3]at(21,6){cell=-1};
\pic[clock2]at(21,3){cell=-1};

\pic[clock1]at(22,19){cell};
\pic[clock2]at(22,14){cell=-1};
\pic[clock3]at(22,6){cell=-1};
\pic[clock2]at(22,3){cell=-1};

\pic[clock1]at(23,19){cell};
\pic[clock2]at(23,14){cell=-1};
\pic[clock0]at(23,6){cell};
\pic[clock3]at(23,3){cell=-1};

\pic[clock1]at(24,19){cell};
\pic[clock2]at(24,14){cell=-1};
\pic(f3)[fixed]at(24,9){cell=1};
\node[above,scale=2]at(f3-north){-1.00};
\pic[clock3]at(24,8){cell=-1};
\pic[clock0]at(24,7){cell};
\pic[clock0]at(24,6){cell};
\pic[clock0]at(24,5){cell};
\pic[clock3]at(24,4){cell=-1};
\pic[clock3]at(24,3){cell=-1};

\pic[clock1]at(25,19){cell};
\pic[clock3]at(25,14){cell=-1};
\pic[clock0]at(25,6){cell};

\pic[clock2]at(26,19){cell};
\pic[clock3]at(26,14){cell=-1};
\pic[clock1]at(26,6){cell};

\pic[clock2]at(27,19){cell};
\pic[clock0]at(27,14){cell};
\pic[clock1]at(27,6){cell};

\pic[clock2]at(28,19){cell};
\pic[clock0]at(28,17){cell};
\pic[clock0]at(28,16){cell};
\pic[clock0]at(28,15){cell};
\pic[clock0]at(28,14){cell};
\pic[clock0]at(28,13){cell};
\pic[clock3]at(28,12){cell=1};
\pic[clock3]at(28,11){cell=1};
\pic[clock3]at(28,10){cell=1};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (28,9){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (28,8){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (28,7){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (28,6){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (28,5){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (28,4){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (28,3){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (28,2){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (28,1){};
\pic(s1)[output]at(28,0){cell};
\node[left,scale=3]at(s1-west){S1};

\pic[clock2]at(29,19){cell};
\pic[clock0]at(29,17){cell};
\pic[clock0]at(29,14){cell};
\pic[clock3]at(29,9){cell=1};
\pic[clock1]at(29,6){cell};

\pic[clock2]at(30,19){cell};
\pic[clock0]at(30,17){cell};
\pic[clock3]at(30,14){cell=1};
\pic[clock3]at(30,9){cell=1};
\pic[clock1]at(30,6){cell};

\pic[clock3]at(31,19){cell};
\pic[clock0]at(31,17){cell};
\pic(f4)[fixed]at(31,14){cell=1};
\node[above,scale=2]at(f4-north){-1.00};
\pic[clock2]at(31,11){cell=1};
\pic[clock3]at(31,10){cell=1};
\pic[clock3]at(31,9){cell=1};
\pic[clock3]at(31,8){cell=1};
\pic[clock2]at(31,7){cell=1};
\pic[clock1]at(31,6){cell=1};

\pic[clock3]at(32,19){cell};
\pic[clock0]at(32,17){cell};
\pic[clock2]at(32,11){cell=1};
\pic[clock3]at(32,9){cell=1};
\pic[clock1]at(32,6){cell};

\pic[clock3]at(33,19){cell};
\pic[clock0]at(33,17){cell};
\pic[clock2]at(33,11){cell=1};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (33,9){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (33,8){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (33,7){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (33,6){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (33,5){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (33,4){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (33,3){};
\pic[clock2]at(33,2){cell=-1};

\pic[clock3]at(34,19){cell};
\pic[clock0]at(34,17){cell};
\pic[clock2]at(34,11){cell=1};
\pic[clock1]at(34,6){cell};
\pic[clock2]at(34,2){cell=-1};

\pic[clock3]at(35,19){cell};
\pic[clock0]at(35,17){cell};
\pic[clock2]at(35,11){cell=1};
\pic[clock1]at(35,7){cell};
\pic[clock1]at(35,6){cell};
\pic[clock2]at(35,2){cell=-1};

\pic[clock0]at(36,19){cell};
\pic[clock0]at(36,17){cell};
\pic[clock1]at(36,16){cell};
\pic[clock1]at(36,15){cell};
\pic[clock1]at(36,14){cell};
\pic[clock1]at(36,13){cell};
\pic[clock2]at(36,12){cell=1};
\pic[clock2]at(36,11){cell=1};
\pic[clock2]at(36,10){cell=1};
\pic[clock1]at(36,9){cell};
\pic[clock1]at(36,8){cell};
\pic[clock1]at(36,6){cell};
\pic[clock2]at(36,2){cell=-1};

\pic[clock0]at(37,19){cell};
\pic[clock1]at(37,14){cell};
\pic[clock2]at(37,11){cell=1};
\pic[clock1]at(37,7){cell};
\pic[clock1]at(37,6){cell};
\pic[clock2]at(37,2){cell=-1};

\pic[clock0]at(38,19){cell};
\pic[clock1]at(38,14){cell};
\pic[clock1]at(38,11){cell};
\pic[clock1]at(38,6){cell};
\pic[clock2]at(38,2){cell=-1};

\pic[clock0]at(39,19){cell};
\pic[clock1]at(39,14){cell};
\pic[clock1]at(39,11){cell};
\pic[clock2]at(39,6){cell=1};
\pic[clock2]at(39,3){cell=1};
\pic[clock2]at(39,1){cell=1};

\pic(in1)[input]at(40,23){cell=1};
\node[left,scale=3]at(in1-west){In1};
\node[rectangle,fill=clock0,minimum size=0.98cm] at (40,22){};
\node[rectangle,fill=clock1,minimum size=0.98cm] at (40,21){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (40,20){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (40,19){};
\node[rectangle,fill=clock0,minimum size=0.98cm] at (40,18){};
\node[rectangle,fill=clock1,minimum size=0.98cm] at (40,17){};
\node[rectangle,fill=clock2,minimum size=0.98cm] at (40,16){};
\node[rectangle,fill=clock3,minimum size=0.98cm] at (40,15){};
\node[rectangle,fill=clock0,minimum size=0.98cm] at (40,14){};
\node[rectangle,fill=clock0,minimum size=0.98cm] at (40,13){};
\node[rectangle,fill=clock1,minimum size=0.98cm] at (40,12){};
\pic[clock1]at(40,11){cell};
\pic[clock1]at(40,10){cell};
\pic[clock1]at(40,9){cell};
\pic[clock1]at(40,8){cell};
\pic[clock2]at(40,7){cell=1};
\pic[clock2]at(40,6){cell=1};
\pic[clock2]at(40,5){cell=1};
\pic[clock2]at(40,4){cell=1};
\pic[clock2]at(40,3){cell=1};
\pic[clock2]at(40,2){cell=1};
\pic[clock2]at(40,1){cell=1};

\pic[clock1]at(41,14){cell};
\pic[clock2]at(41,6){cell=1};
\pic[clock2]at(41,3){cell=1};

\pic[clock1]at(42,14){cell};
\pic[clock1]at(42,13){cell};
\pic[clock1]at(42,12){cell};
\pic[clock1]at(42,11){cell};
\pic[clock1]at(42,10){cell};
\pic[clock1]at(42,9){cell};
\pic[clock1]at(42,8){cell};
\pic[clock1]at(42,7){cell};
\pic[clock1]at(42,6){cell};
\pic(c1)[output]at(42,3){cell};
\node[above,scale=3]at(c1-north){C1};
\end{tikzpicture}
\end{document}
